<div id="map-container">
    <div id="map"></div>
</div>


<script src="https://polyfill.io/v3/polyfill.min.js?features=default"></script>
<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDnn-FVidj-15AK5SkJdsOOp_YkuHTV9OQ&callback=initMap" async defer></script>
<style type="text/css">

	#map-container {
	  width: 100%;
	  height: 400px;
	  margin: 0 auto;
	  border: 0px solid #ccc;
	  box-shadow: 0 0 10px rgba(0, 0, 0, 0.2);
	  overflow: hidden;
	}

	#map {
	  width: 100%;
	  height: 100%;
	}


</style>
<script>
    // Initialize and add the map
    let map;

    var x1, y1, x2, y2;
    var xhr = new XMLHttpRequest();
    xhr.open("GET", "https://sheets.googleapis.com/v4/spreadsheets/1gDkDsc1WtDx0s9w84wFki3fm_BzJmCoEjoAL6zRtUy8/values/Sheet1?key=AIzaSyCzyH3Ix1-fqGkFtQLXYCdzmwKg4JBHvXc");
    xhr.onload = function() {
        if (xhr.status === 200) {
            // The request was successful
            var data = JSON.parse(xhr.responseText);
            x1=parseFloat(data.values[0][1]);
            y1=parseFloat(data.values[0][2]);
            x2=parseFloat(data.values[0][3]);
            y2=parseFloat(data.values[0][4]);

            console.log(x1);
            console.log(y1);
            console.log(x2);
            console.log(y2);


            initMap();
            // Do something with the data
        } else {
            document.write("Map cannot be rendered!");
        }
    };
    xhr.send();

    function initMap() {

        // Define the bounding box coordinates
        var southWest = new google.maps.LatLng(x1,y1);
        var northEast = new google.maps.LatLng(x2,y2);


        // Calculate the center and zoom level for the bounding box
        var bounds = new google.maps.LatLngBounds(southWest, northEast);
        var mapOptions = {
        center: bounds.getCenter(),
        zoom: 10,
        mapTypeControl: false,  // Disable the satellite button
        fullscreenControl: false,
        streetViewControl: false

        };

        // Initialize the map
        var map = new google.maps.Map(document.getElementById('map'), mapOptions);

        // Add the bounding box as a rectangle to the map
        var boundingBox = new google.maps.Rectangle({
        map: map,
        bounds: bounds,
        strokeColor: '#FF0000',
        strokeWeight: 2,
        fillColor: '#FFFFFF',
        fillOpacity: 0
        });

        // Fit the map to the bounds of the bounding box
        map.fitBounds(bounds);
    }

</script>
<h3 class="cmp-title__text">${properties.text}</h3>